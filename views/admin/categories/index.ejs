<%- include('../../partials/head.ejs') %>

<%- include('../../partials/navbar.ejs') %>

<!-- Main Content -->
<main id="main-tabela" class="container text-center text-white py-5 ">
    <h1 class="display-4 fw-bold pb-3 text-center">Revise as Categorias</h1> <!-- Margem inferior reduzida -->
    <a class="btn btn-success" href="/admin/categories/new">criar nova categoria</a>
    <!-- Formulário de Categoria -->
    <section class="d-flex justify-content-center mt-3"> <!-- Margem superior reduzida -->
        <div class="table-responsive">
            <table class="table table-striped table-hover text-center">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Título</th>
                        <th scope="col">Slug</th>
                        <th scope="col">Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Política</td>
                        <td>politica</td>
                        <td>
                            <div id="actions" class="btn-group" role="group">
                                    <button type="submit"  class="btn btn-info btn-sm" title="Visualizar">
                                    <i class="fas fa-eye"></i> Visualizar
                                    </button>
                                    <button type="submit"  class="btn btn-warning btn-sm" title="Editar">
                                        <i class="fas fa-edit"></i> Editar
                                    </button>
                                    <button  type="button" class="btn btn-danger btn-sm" title="Excluir" onclick="confirmDelete(1)">
                                        <i class="fas fa-trash-alt"></i> Excluir
                                    </button>
                            </div>
                        </td>
                    </tr>
                    <% categories.forEach(category => { %>
                    <tr>
                        <td><%= category.id %></td>
                        <td><%= category.title %></td>
                        <td><%= category.slug %></td>
                        <td>
                            <div id="actions" class="btn-group" role="group">
                                <form action="/admin/categories" method="POST">
                                    <input type="hidden" name="id" value="<%= category.id %>">
                                    <button type="submit" class="btn btn-info btn-sm" title="Visualizar">
                                        <i class="fas fa-eye"></i> Visualizar
                                    </button>
                                </form>
                                
                                
                                    <input type="hidden" name="id" value="<%= category.id %>">
                                    <button type="submit" class="btn btn-warning btn-sm" title="Editar">
                                        <a href="/admin/categories/edit/<%= category.id %>"><i class="fas fa-edit"></i> Editar </a>
                                    </button>
                                
                
                                <form action="/admin/categories/deletar" method="POST" id="deleteForm-<%= category.id %>">
                                    <input type="hidden" name="id" value="<%= category.id %>">
                                    <button type="button" class="btn btn-danger btn-sm" title="Excluir" onclick="confirmDelete(<%= category.id %>)">
                                        <i class="fas fa-trash-alt"></i> Excluir
                                    </button>
                                </form>

                            </div>
                        </td>
                    </tr>
                    <% }); %>
                    
                </tbody>
            </table>
        </div>
    </section>

</main>


<%- include('../../partials/footer.ejs') %>
